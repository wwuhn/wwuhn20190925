<!--Design by Myhyli //-->
<html>
<head>
<title>Crazy Window</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<style type="text/css">
<!--
body {  font-size: 10pt}
.main {background-color:#DDDDDD}
.sub {background-color:#EAEAEA;padding-left:1em}
-->
</style>

<script>
function closewin() {
if (opener!=null && !opener.closed) {
opener.window.newwin=null;
opener.openbutton.disabled=false;
opener.closebutton.disabled=true;
}
}


var count=0;//做计数器
var limit=new Array();//用于记录当前显示的哪几个菜单
var countlimit=2;//同时打开菜单数目，可自定义
function expandIt(el) {
obj = eval("sub" + el);
	if (obj.style.display == "none") {
		obj.style.display = "block";//显示子菜单
		if (count<countlimit) {//限制2个
		limit[count]=el;//录入数组
		count++;
		}
		else {
		eval("sub" + limit[0]).style.display = "none";
		for (i=0;i<limit.length-1;i++) {limit[i]=limit[i+1];}//数组去掉头一位，后面的往前挪一位
		limit[limit.length-1]=el;
		}
	}
	else {
	obj.style.display = "none";
	var j;
	for (i=0;i<limit.length;i++) {if (limit[i]==el) j=i;}//获取当前点击的菜单在limit数组中的位置
	for (i=j;i<limit.length-1;i++) {limit[i]=limit[i+1];}//j以后的数组全部往前挪一位
	limit[limit.length-1]=null;//删除数组最后一位
	count--;
	}
}


</script>
</head>

<body bgcolor="#666699" text="#000000" leftmargin="0" topmargin="0" onunload="closewin()" scroll="no" onload="if(opener!=null){opener.setbg();opener.setborder();opener.setmargin();opener.setscroll();opener.setbgfix();opener.setbgrepeat();}">
<p><a href=# onclick="window.close()"><font color="#FFFFFF">关闭窗口</font></a></p>
<font color="#FFFFFF">当前同时打开菜单数目为2</font>
<div class=main id=main1 onclick=expandIt(1)>menu1
<div class=sub id=sub1 style="display:none">sub1<br>
sub2<br>
sub3</div>
</div>
<div class=main id=main2 onclick=expandIt(2)>menu2
<div class=sub id=sub2 style="display:none">sub2<br>
sub2<br>
sub3</div>
</div>
<div class=main id=main3 onclick=expandIt(3)>menu3
<div class=sub id=sub3 style="display:none">sub1<br>
sub2<br>
sub3</div>
</div>
<div class=main id=main4 onclick=expandIt(4)>menu4
<div class=sub id=sub4 style="display:none">sub1<br>
sub2<br>
sub3</div>
</div>
<div class=main id=main5 onclick=expandIt(5)>menu5
<div class=sub id=sub5 style="display:none">sub1<br>
sub2<br>
sub3</div>
</div>
</body>
</html>
