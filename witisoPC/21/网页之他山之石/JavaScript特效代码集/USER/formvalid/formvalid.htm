<html>
<head>
<title>表单递交合法性检测</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="../style.css">
<script language="javaScript">
function validateForm() {
    var ok=true
    if (document.myForm.userName.value=="") {
    ok =false
    alert("姓名没有填写!")
    document.myForm.userName.focus()
  }

  var foundAt = document.myForm.eMail.value.indexOf("@",0)
  if (foundAt < 1 && ok) {
    ok = false
    alert ("电子邮件应该含 @ 字符!")
    document.myForm.eMail.focus()
  }

   if (ok==true) {
 
    document.myForm.submit()
    alert ("表单填写完毕，感谢！这是演示并未真正递交。你应该将表单内容交付cgi或asp程序处理。")
//    location.href=history.back()
  }
}
</script>
<meta name="description" content="表单递交合法性检测脚本，检测姓名和电子邮件。">
<meta name="keywords" content="form, valid, validation, check, name, mail, email, e-mail, 电子邮件,,姓名, 表单, 递交,合法性 检测, 合法性检测">
</head>

<body bgcolor="#FFFFFF">
<div align="center">
<p><font size="5">表单递交合法性检测</font>（姓名和邮箱） </p>
</div>
<center>
  空白姓名和不含&quot;@&quot; 字符不行 
</center>
<form name="myForm">
  <p align="center">您的姓名: 
    <input type="text" name="userName" size="20">
    电子邮件: 
    <input type="text" name="eMail" size="20">
    <br>
    <input type="button" value="Submit" onClick="validateForm()" name="button" class="pt9">
    &nbsp; 
    <input type="reset" value="Clear" name="reset" class="pt9">
  </p>
  </form>
<div align="center">
  <table width="70%" border="0">
    <tr bgcolor="#EEEEEE"> 
      <td> 
        <p>&lt;head&gt;<br>
          &lt;script language=&quot;javaScript&quot;&gt;<br>
          function validateForm() {<br>
          <br>
          <font color="#FF0066">//定义函数</font> <br>
          <br>
          var ok=true<br>
          if (document.myForm.userName.value==&quot;&quot;) {<br>
          ok=false<br>
          alert(&quot;姓名没有填写!&quot;)<br>
          <br>
          <font color="#FF0033">//如果username(姓名文本框的名字)为空，将OK置为false，警告返回;</font> 
          <br>
          <br>
          document.myForm.userName.focus()<br>
          <br>
          <font color="#FF0033">//将光标聚焦在姓名框内，小特性，仅仅为了方便，与检测无关。</font><br>
          <br>
          }</p>
        <p> var foundAt = document.myForm.eMail.value.indexOf(&quot;@&quot;,0)<br>
          if (foundAt &lt; 1 &amp;&amp; ok) {<br>
          ok = false<br>
          alert (&quot;电子邮件应该含 @ 字符!&quot;)<br>
          <br>
          <font color="#FF0033">//如果不含@字符但姓名已经填写，将OK置为false，警告返回。</font><br>
          <br>
          document.myForm.eMail.focus()<br>
          <br>
          <font color="#FF0033">//将光标聚焦在邮箱框内。</font><br>
          <br>
          }</p>
        <p> if (ok==true) {<br>
          <br>
          document.myForm.submit()<br>
          alert (&quot;表单填写完毕，感谢！&quot;)<br>
          // location.href=history.back()<br>
          <br>
          <font color="#FF0033">//如果全部检测通过，发出感谢信息并完成递交处理。通常这里可能需要返回上一步，可以加上上面的一句话。</font><br>
          <br>
          }<br>
          }<br>
          &lt;/script&gt;<br>
          &lt;/head&gt; </p>
        <p>&lt;body&gt;<br>
          &lt;form name=&quot;myForm&quot;&gt;<br>
          &lt;p align=&quot;center&quot;&gt;您的姓名: <br>
          &lt;input type=&quot;text&quot; name=&quot;userName&quot; size=&quot;20&quot;&gt;<br>
          电子邮件: <br>
          &lt;input type=&quot;text&quot; name=&quot;eMail&quot; size=&quot;20&quot;&gt;<br>
          &lt;br&gt;<br>
          <font color="#990099" face="Arial, Helvetica, sans-serif"><b>&lt;input 
          type=&quot;button&quot; value=&quot;Submit&quot; onClick=&quot;validateForm()&quot; 
          name=&quot;button&quot;&gt;</b></font><br>
          &lt;input type=&quot;reset&quot; value=&quot;Clear&quot; name=&quot;reset&quot;&gt;<br>
          &lt;/p&gt;<br>
          &lt;/form&gt;<br>
          &lt;/body&gt; </p>
        <p><font color="#FF0000">红色部分</font>为说明，通常表单递交后需要交给cgi或asp程序去处理，这里仅仅是演示。交给CGI/ASP程序处理是通过action=&quot;cgi-bin/submit.cgi&quot;来进行的。当然你也可以通过电子邮件来处理，方法是：action=&quot;mailto:yourmail@mailserver.com&quot; 
          enctype=&quot;text/plain&quot; </p>
        <p>此外，注意form的名字是myForm前后要一致。各个表单项目的名字(name项)前后也要一致。</p>
        <p>注意：<font color="#990099" face="Arial, Helvetica, sans-serif"><b>&lt;input 
          type=&quot;button&quot; value=&quot;Submit&quot; onClick=&quot;validateForm()&quot; 
          name=&quot;button&quot;&gt;<br>
          </b></font>不是一般的submit按钮，而是普通的button，因为上面用到了document.myForm.submit()的方法。</p>
      </td>
    </tr>
  </table>
<p>&nbsp;</p></div>
<p>&nbsp;</p>
</body>
</html>
